angular.module("blog.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("modules/posts/views/post-create-extra-data.tpl.html",'<fieldset class="blog-post-create-fieldset">\n  <p class="blog-post-create-title">Who is the user?</p>\n  <select class="blog-post-create-select" ng-model="extradata.parent.userpost" name="user-list" form="createPostForm" ng-change="extradata.parent.changePreview(extradata.parent.userpost, \'userpost\');">\n  \t<option selected disabled value="">Select the user who meows...</option>\n    <option ng-repeat="user in extradata.infocreatepost.usersPost" value="{{ user.id }}">{{ user.name }}</option>\n  </select>\n</fieldset>\n'),$templateCache.put("modules/posts/views/post-create.tpl.html",'<section ng-transclude>\n  <header class="blog-post-create-header">\n    <h1>New Post</h1>\n  </header>\n  <form id="createPostForm" name="createPost" role="form" ng-submit="postcreate.create()">\n\n    <fieldset class="blog-post-create-fieldset">\n      <p class="blog-post-create-title">Title (*)</p>\n      <input class="blog-post-create-input"\n             type="text"\n             placeholder="Title"\n             ng-model="postcreate.title"\n             ng-change="postcreate.changePreview(postcreate.title, \'title\');"\n             required>\n    </fieldset>\n    <fieldset class="blog-post-create-fieldset">\n      <p class="blog-post-create-title">Content (*) </p>\n      <textarea class="blog-post-create-input"\n                placeholder="Content"\n                ng-model="postcreate.body"\n                ng-change="postcreate.changePreview(postcreate.body, \'body\');"\n                required></textarea>\n    </fieldset>\n\n    <extra-data-for-new-post></extra-data-for-new-post>\n    \n    <change-preview></change-preview>\n\n  \n  <show-main-post-preview titlepost="postcreate.parenttitle" bodypost="postcreate.parentbody" userpost="postcreate.parentuserpost"></show-main-post-preview>\n  <button class="blog-post-create-button"\n            type="submit" ng-disabled="createPost.$invalid">\n      <i class="fa fa-rocket"></i> Publish\n    </button>\n    </form>\n</section>\n\n'),$templateCache.put("modules/posts/views/post-detail-comments.tpl.html",'<li class="comment-item">\n <i class="fa fa-user"></i>\n <span class="comment-author"><b>{{ postcomments.data.email }}</b></span>\n  <p class="comment-body">\n    {{ postcomments.data.body }}\n  </p>\n</li>'),$templateCache.put("modules/posts/views/post-detail-user.tpl.html",'<p class="blog-post-user">\n    Written by: <strong>{{ postuser.data.name }}</strong>\n    <i class="fa fa-mail"></i> {{ postuser.data.email }}\n</p>'),$templateCache.put("modules/posts/views/post-detail.tpl.html",'<article class="blog-post">\n  <header class="blog-post-header">\n    <h1>{{ postdetail.titlepost }}</h1>\n  </header>\n  <p class="blog-post-body">\n    <img id="imgpreview" src="http://placekitten.com/995/300" />\n    {{ postdetail.bodypost }}\n  </p>\n  <post-detail-user data="postdetail.userpost[0]">\n  </post-detail-user>\n</article>\n<article class="blog-post-comments">\n  <header class="comments-header">\n      <span class="subtitle"><i class="fa fa-comments"></i> <b>Comentarios</b></span>\n  </header>\n  <ul class="comments-list">\n      <post-detail-comments ng-repeat="comment in postdetail.comments" data="comment">\n      </post-detail-comments>\n  </ul>\n</article>'),$templateCache.put("modules/posts/views/post-image-preview.tpl.html",'<div ng-controller="FileChangeController">\n\t<input type=\'file\' file-change="upload();" ng-model="file"/>\n</div>\n<a href="" ng-click="changepreviewfile.changePreview();">\n\tUpdate Image preview\n</a>\n<show-preview preview="changepreviewfile.filename"></show-preview>'),$templateCache.put("modules/posts/views/post-list.tpl.html",'<ul class="flex-container blog-post-list">\n \t<li class="flex-item-postlist blog-post-item" ng-repeat="post in (postlist.posts | limitTo:postlist.settings.pageLimit:postlist.settings.offset)">\n\t\t<a ng-href="/post/{{ post.id }}" class="blog-post-img">\n\t\t\t<img src=\'https://placekitten.com/430/300\' />\n\t\t</a>\n\t\t<div class="blog-post-link">\n\t\t\t<i class="fa fa-file-text-o icon" aria-hidden="true"></i>\n\t\t\t<a ng-href="/post/{{ post.id }}">{{ post.title }}</a>\n\t\t</div>\n \t</li>\n</ul>\n<simple-pagination\n  current-page="postlist.settings.currentPage"\n  offset="postlist.settings.offset"\n  page-limit="postlist.settings.pageLimit"\n  page-limits="postlist.settings.pageLimits"\n  total="postlist.length">\n</simple-pagination>\n'),$templateCache.put("modules/posts/views/post-save-image-preview.tpl.html",'<!--<img id="imgpreview2" src="" alt="" />-->'),$templateCache.put("modules/users/views/user-detail.tpl.html",'<div class="container-blog-user">\n  <article class="blog-user">\n    <header class="blog-user-header">\n      <div class="upper-box">\n        <div class="responsive-circle-container">\n          <div class="responsive-circle img-circle"></div>\n        </div>\n        <h1>{{ userdetail.user.name }}</h1>\n        <a ng-href="http://{{ userdetail.user.website}}">{{ userdetail.user.website}}</a>\n      </div>\n      <div class="lower-box">\n      <p class="blog-post-body">\n        <i class="fa fa-phone" aria-hidden="true"></i> {{ userdetail.user.phone}}<br/><br/>\n        <i class="fa fa-university" aria-hidden="true"></i> {{ userdetail.user.company.name}}\n      </p>\n      <ui-gmap-google-map center=\'userdetail.userMap.pos\' zoom=\'8\'>\n        <ui-gmap-marker coords="userdetail.userMap.pos" options="userdetail.userMap.options" idkey="userdetail.userMap.id">\n          </ui-gmap-marker>\n      </ui-gmap-google-map>\n      <div class="button">\n       <a ng-href="mailto: {{ userdetail.user.email }}">MESSAGE</a>\n      </div>\n    </div>\n    </header>\n    \n  </article>\n<!--<aside class="catchphrase">\n  <p class="blog-post-body">\n    {{ userdetail.user.phone}}<br/>\n    {{ userdetail.user.email}}<br/>\n    {{ userdetail.user.address}}<br/>\n    {{ userdetail.user.website}}<br/>\n    {{ userdetail.user.company}}<br/>\n  </p>\n</aside>-->\n</div>\n\n'),$templateCache.put("modules/users/views/users-list.tpl.html",'<ul class="flex-container users-list">\n \t<li class="flex-item user-link" ng-repeat="user in userslist.users">\n \t\t<div class="user-img">\n\t\t\t<img src=\'https://placekitten.com/200/200\' />\n\t\t</div>\n\t\t<div class="user-link-name">\n\t\t\t<i class="fa fa-user icon" aria-hidden="true"></i>\n\t\t\t<a ng-href="/users/{{ user.id }}">{{ user.name }}</a>\n\t\t</div>\n \t</li>\n</ul>')}]),function(){"use strict";angular.module("blog",["posts","users"])}(),function(){"use strict";function Comment($resource,BaseUrl){return $resource(BaseUrl+"/comments/:commentId",{commentId:"@_id"})}angular.module("comments.services",["ngResource"]),angular.module("comments.services").constant("BaseUrl","http://jsonplaceholder.typicode.com").factory("Comment",Comment)}(),function(){"use strict";function PostListController(Post){this.posts={},this.length=0,this.settings={currentPage:0,offset:0,pageLimit:5,pageLimits:["10","50","100"]};const self=this;Post.query().$promise.then(function(data){self.posts=data,self.length=self.posts.length},function(error){console.log(error)})}function PostDetailController($routeParams,Post,User,Comment){this.post={},this.comments={},this.userpost={},this.titlepost="",this.bodypost="";const self=this;Post.query({id:$routeParams.postId}).$promise.then(function(data){self.post=data[0],self.titlepost=self.post.title,self.bodypost=self.post.body,self.userpost=User.query({id:self.post.userId})},function(error){console.log(error)}),Comment.query({postId:$routeParams.postId}).$promise.then(function(data){self.comments=data},function(error){console.log(error)})}function PostCreateController(Post){const self=this;this.$onInit=function(){this.parenttitle="Preview of the purrrfect title",this.parentbody="Preview of the furrry body...",this.parentuserpost=""},this.changePreview=function(element,elementName){switch(elementName){case"title":this.parenttitle=element;break;case"body":this.parentbody=element;break;case"userpost":this.parentuserpost=element;break;default:console.log("default case switch")}},this.create=function(){this.post={title:"",body:""},this.post.title=this.title,this.post.body=this.body,Post.save(self.post)}}function ExtraDataController(User){this.infocreatepost={usersPost:{}};const self=this;User.query().$promise.then(function(data){self.infocreatepost.usersPost=data},function(error){console.log(error)})}function FileChangeController($scope,PreviewFileService){$scope.upload=function(){PreviewFileService.SaveFile($scope.file)}}function ChangePreviewFileController(PreviewFileService){this.$onInit=function(){this.file=""},this.changePreview=function(){this.filename=PreviewFileService.ReturnFile().name}}function ShowPreviewFileController(PreviewFileService,UpdatePreviewService){this.$onChanges=function(){UpdatePreviewService.UpdatePreview(PreviewFileService.ReturnFile(),"#imgpreview")}}function ShowMainPreviewPostController(User){this.$onChanges=function(changes){changes.titlepost&&(this.titlepost=changes.titlepost.currentValue),changes.bodypost&&(this.bodypost=changes.bodypost.currentValue),changes.userpost&&(this.userpost={},this.userpost=User.query({id:changes.userpost.currentValue}))}}angular.module("posts.controllers",["posts.services","users.services","comments.services","angularSimplePagination"]),angular.module("posts.controllers").controller("PostListController",PostListController).controller("PostDetailController",PostDetailController).controller("PostCreateController",PostCreateController).controller("ExtraDataController",ExtraDataController).controller("ChangePreviewFileController",ChangePreviewFileController).controller("ShowPreviewFileController",ShowPreviewFileController).controller("ShowMainPreviewPostController",ShowMainPreviewPostController).controller("FileChangeController",FileChangeController)}(),function(){"use strict";function config($locationProvider,$routeProvider){$locationProvider.html5Mode(!0),$routeProvider.when("/",{template:["<posts-list></posts-list"]}).when("/post/:postId",{template:"<post-detail></post-detail>"}).when("/new",{template:"<new-post></new-post>"})}function fileChange(){return{restrict:"A",require:"ngModel",scope:{fileChange:"&"},link:function(scope,element,attrs,ctrl){function onChange(){ctrl.$setViewValue(element[0].files[0]),scope.fileChange()}element.on("change",onChange)}}}angular.module("posts",["blog.templates","ngRoute","posts.controllers","users.controllers"]).component("postsList",{controller:"PostListController",controllerAs:"postlist",templateUrl:"modules/posts/views/post-list.tpl.html"}).component("postDetail",{controller:"PostDetailController",controllerAs:"postdetail",templateUrl:"modules/posts/views/post-detail.tpl.html"}).component("postDetailComments",{bindings:{data:"<"},controllerAs:"postcomments",templateUrl:"modules/posts/views/post-detail-comments.tpl.html"}).component("postDetailUser",{bindings:{data:"<"},controllerAs:"postuser",templateUrl:"modules/posts/views/post-detail-user.tpl.html"}).component("newPost",{controller:"PostCreateController",controllerAs:"postcreate",templateUrl:"modules/posts/views/post-create.tpl.html",transclude:!0}).component("extraDataForNewPost",{controller:"ExtraDataController",controllerAs:"extradata",templateUrl:"modules/posts/views/post-create-extra-data.tpl.html",require:{parent:"^newPost"}}).component("changePreview",{controller:"ChangePreviewFileController",controllerAs:"changepreviewfile",templateUrl:"modules/posts/views/post-image-preview.tpl.html"}).component("showPreview",{bindings:{preview:"<"},controller:"ShowPreviewFileController",controllerAs:"showpreviewfile",templateUrl:"modules/posts/views/post-save-image-preview.tpl.html"}).component("showMainPostPreview",{bindings:{titlepost:"<",bodypost:"<",userpost:"<"},controller:"ShowMainPreviewPostController",controllerAs:"postdetail",templateUrl:"modules/posts/views/post-detail.tpl.html"}).directive("fileChange",fileChange).config(config)}(),function(){"use strict";function Post($resource,BaseUrl){return $resource(BaseUrl+"/posts/:postId",{postId:"@_id"})}function PreviewFileService(){var theFile="",SaveFile=function(selectedFile){theFile=selectedFile},ReturnFile=function(){return theFile};return{SaveFile:SaveFile,ReturnFile:ReturnFile}}function UpdatePreviewService(){var UpdatePreview=function(selectedFile,element){if(selectedFile){var reader=new FileReader;reader.onload=function(e){var lapreview=angular.element(document.querySelector(element));lapreview.attr("src",e.target.result)},reader.readAsDataURL(selectedFile)}};return{UpdatePreview:UpdatePreview}}angular.module("posts.services",["ngResource"]),angular.module("posts.services").constant("BaseUrl","http://jsonplaceholder.typicode.com").factory("Post",Post).factory("PreviewFileService",PreviewFileService).factory("UpdatePreviewService",UpdatePreviewService)}(),function(){"use strict";function UsersListController(User){this.users={};const self=this;User.query().$promise.then(function(data){self.users=data},function(error){console.log(error)})}function UserDetailController($routeParams,User){this.user={},this.userMap={pos:{latitude:0,longitude:0},options:{title:"",label:""},id:0};const self=this;User.query({id:$routeParams.userId}).$promise.then(function(data){self.user=data[0],self.userMap.pos.latitude=parseInt(self.user.address.geo.lat),self.userMap.pos.longitude=parseInt(self.user.address.geo.lng),self.userMap.id=parseInt(self.user.id),self.userMap.options.title=self.user.address.city,self.userMap.options.label=self.userMap.options.title},function(error){console.log(error)})}angular.module("users.controllers",["users.services"]),angular.module("users.controllers").controller("UsersListController",UsersListController).controller("UserDetailController",UserDetailController)}(),function(){"use strict";function config($locationProvider,$routeProvider,uiGmapGoogleMapApiProvider){$locationProvider.html5Mode(!0),$routeProvider.when("/users",{template:"<my-users></my-users>"}).when("/users/:userId",{template:"<my-user-detail></my-user-detail>"}),uiGmapGoogleMapApiProvider.configure({key:"AIzaSyBp6go3s6TUC8CHNEX5l_ksB24thzlNzt4",libraries:"weather,geometry,visualization"})}angular.module("users",["blog.templates","ngRoute","users.controllers","uiGmapgoogle-maps"]).component("myUsers",{controller:"UsersListController",controllerAs:"userslist",templateUrl:"modules/users/views/users-list.tpl.html"}).component("myUserDetail",{controller:"UserDetailController",controllerAs:"userdetail",templateUrl:"modules/users/views/user-detail.tpl.html"}).config(config)}(),function(){"use strict";function User($resource,BaseUrl){return $resource(BaseUrl+"/users/:userId",{userId:"@_id"})}angular.module("users.services",["ngResource"]),angular.module("users.services").constant("BaseUrl","http://jsonplaceholder.typicode.com").factory("User",User)}();